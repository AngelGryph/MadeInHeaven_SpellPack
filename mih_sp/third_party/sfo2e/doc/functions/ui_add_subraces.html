<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>ui_add_subraces function library</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../doc/files/g3readme_cam_022916_dwedit.css" type="text/css" />
<link href="../../doc/files/g3icon.ico" rel="icon" type="image/bmp" />
</head>
<body>
<div id="container">
<div class="ribbon_bubble">
    <div class="ribbon_rectangle">
<h1>ui_add_subraces function library</h1>
</div>
    <div class="ribbon_triangle-l"></div>
    <div class="ribbon_triangle-r"></div>

<div class="section">
<p><strong>Dependencies:</strong> alter_effect, ds, lib_2da, lib_2daq, lib_anon, lib_array, lib_class, lib_cre, lib_data, lib_eff, lib_fn, lib_ids, lib_ietool, lib_ini, lib_kit, lib_script, lib_sfo, lib_spl, lib_splconv, lib_ssl, lib_struct, lib_sugar, lib_tools, lib_ui, lib_vtable, resolve_spell, ui_bonus_spells, ui_deolvynize, ui_detect_class_kit, ui_dual_class_kits, ui_externalize_hlas, ui_externalize_proficiencies, ui_extra_spells, ui_on_open, ui_shared_code, ui_spell_system, ui_system_call, ui_virtual_class</p>
</div>

<div class="ribbon_rectangle_h2"><h2>Description</h2> </div>
    <div class="ribbon_triangle_h2-l"></div>
    <div class="ribbon_triangle_h2-r"></div>

<div class="section">
<p>Functions to add races, subraces and pseudoraces to the game. EE-only (edits the UI).</p>
</div>

<div class="ribbon_rectangle_h2"><h2>Public functions</h2> </div>
    <div class="ribbon_triangle_h2-l"></div>
    <div class="ribbon_triangle_h2-r"></div>

<div class="section">
<p><strong>add_pseudorace(NAME:s="-1", DESC:s="-1", REAL_RACE:s="-1")=()</strong> action<br></p><p>
Add a single race to SFO's master table of pseudoraces. (This only updates the <b>tables</b>; the game itself is not updated.)
</p>
<p><strong>add_race(race:s, NAME:s, DESCSTR:s, UPPERCASE:s, BIOGRAPHY:s)=()</strong> action<br></p><p>
Add a single race to SFO's master table of races. (This only updates the <b>tables</b>; the game itself is not updated.)
</p>
<p><strong>add_subrace(COLOR_SKIN:i="-1", COLOR_HAIR:i="-1", COLOR_MAJOR:i="-1", COLOR_MINOR:i="-1", STR:i, DEX:i, CON:i, INT:i, WIS:i, CHA:i, EXTRA_PROF:i, PP:i, OL:i, FT:i, MS:i, HS:i, DI:i, ST:i, subrace:s, NAME:s, DESC:s, PARENT:s, FINAL_RACE:s="*", ICON:s="-1", ICON_STRREF:s="-1", BIO_OLD:s="-1", BIO_NEW:s="-1", SPL_INIT:s, SPL_RECUR:s)=()</strong> action<br></p><p>
Add a single subrace to SFO's master table of subraces. (This only updates the <b>tables</b>; the game itself is not updated.)
</p>
<p><strong>add_to_subrace_tables(subrace_table:s, race_table:s, pseudorace_table:s, disabled:s, table_path:s)=()</strong> action<br></p><p>
Take a bunch of tables defining race, subrace and pseudorace and add them to SFO's master tables. 
(This only updates the <b>tables</b>; the game itself is not updated.)
</p>
<p><strong>build_subraces(tlk_signal_start:i=900000, delay_mode:b)=()</strong> action<br></p><p>
Operate on the subrace tables to actually construct the subraces
if delay_mode=1, introduce a 1-second delay into the spells (for experimental HoW compatibility, though we haven't got this stable yet).
</p>
<p><strong>disable_subrace(subrace:s)=()</strong> action<br></p><p>
Disable the listed subrace (assumed to be installed) from the list of subraces offered to the player
in character generation.</p><p></p>
<p><strong>ui_subrace_item_use()=()</strong> action<br></p><p>
Goes through all items in the game to make sure that they're appropriately marked as unusable by new races. We assume that the new race can use something iff humans can (except that if <b>only</b> humans are prohibited from using it, we assume new races can use it). This is idempotent but not called automatically.
</p>



</div>
<div class="ribbon_rectangle_h2"><h2>Internal functions</h2> </div>
<div class="ribbon_triangle_h2-l"></div>
<div class="ribbon_triangle_h2-r"></div>
<div class="section">
<p>These should not be called from outside the library itself.</p>
<p><strong>ability_opcode_map()=(ability_opcode_map:a)</strong> action<br></p>
<p><strong>add_subraces_2da_prof_setup()=()</strong> action<br></p>
<p><strong>add_subraces_build_spells(delay_mode:i)=()</strong> action<br></p>
<p><strong>add_subraces_desc_modifiers()=()</strong> action<br></p>
<p><strong>add_subraces_handle_strength()=(subrace_data:a)</strong> action<br></p>
<p><strong>add_subraces_lua_setup(tlk_signal_start:i=900000)=()</strong> action<br></p>
<p><strong>add_subraces_write_lua_tables()=()</strong> action<br></p>
<p><strong>add_to_subrace_tables_helper(warn_of_repeats:i=1, to_read:s, to_add_to:s)=()</strong> action<br></p>
<p><strong>all_clabs()=(clab_array:a)</strong> action<br></p>
<p><strong>assign_npc_subraces()=()</strong> action<br></p>
<p><strong>build_str_ex_spell()=()</strong> action<br></p>
<p><strong>build_subrace_id_function()=()</strong> action<br></p>
<p><strong>build_subrace_menu()=()</strong> action<br></p>
<p><strong>build_subrace_secondary_recurring_spell(race:i, spell:s)=(needed:s)</strong> action<br></p>
<p><strong>build_subrace_secondary_spell(race:i, spell:s)=()</strong> patch<br></p>
<p><strong>build_subrace_tertiary_spell(id:i, race:i, spell:s, ind:s)=()</strong> patch<br></p>
<p><strong>chargen_display_subrace()=()</strong> action<br></p>
<p><strong>edit_race_menu()=()</strong> patch<br></p>
<p><strong>load_subrace_2da_table(tlk_signal_start:i, subrace_2da:s, icon_path:s)=(max_count:s, subrace_data:a, subrace_rows:a, default_subrace:a, real_races_used:a, extra_race_map:a)</strong> action<br></p>
<p><strong>skill_opcode_map()=(skill_opcode_map:a)</strong> action<br></p>
<p><strong>subrace_clab_patch(initial:s="****", recur:s)=()</strong> action<br></p>
<p><strong>subrace_label_joinable_npcs()=()</strong> action<br></p>
<p><strong>ui_ability_roller()=()</strong> patch<br></p>
<p><strong>ui_pseudoraces()=()</strong> patch<br></p>
<p><strong>ui_skill_adjusts()=()</strong> patch<br></p>
<p><strong>ui_subrace_engine_strings()=(enginest:a)</strong> action<br></p>





</div>



</div>
</div>
</body>