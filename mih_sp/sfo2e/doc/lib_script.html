<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>lib_script function library</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" href="../../doc/files/g3readme_cam_022916_dwedit.css" type="text/css" />
<link href="../../doc/files/g3icon.ico" rel="icon" type="image/bmp" />
</head>
<body>
<div id="container">
<div class="ribbon_bubble">
    <div class="ribbon_rectangle">
<h1>lib_script function library</h1>
</div>
    <div class="ribbon_triangle-l"></div>
    <div class="ribbon_triangle-r"></div>

<div class="section">
<p><strong>Dependencies:</strong> alter_effect, ds, lib_2da, lib_anon, lib_array, lib_fn, lib_ini, lib_sfo, lib_struct, lib_sugar, lib_tools</p>
</div>

<div class="ribbon_rectangle_h2"><h2>Description</h2> </div>
    <div class="ribbon_triangle_h2-l"></div>
    <div class="ribbon_triangle_h2-r"></div>

<div class="section">
<p>Functions related to BCS scripts. (See also the family of functions in alter_script.tph).</p>
</div>

<div class="ribbon_rectangle_h2"><h2>Functions</h2> </div>
    <div class="ribbon_triangle_h2-l"></div>
    <div class="ribbon_triangle_h2-r"></div>

<div class="section">
<p><strong>script_custom_hotkeys()=()</strong> patch<br></p><p>
On the current file (assumed to be a BAF file) swap any hotkey commands with user-set hotkey remaps,
as set in the ini. 
</p>
<p><strong>script_install(silent:i, arguments:s, script:s, scripts:s, location:s, locbase:s, path:s)=()</strong> action<br></p><p>
Given a list 'arguments' (syonyms: 'script', 'scripts') of script names (without .baf suffix), located at the location given by location/locbase/path,
compile them into the override, first applying script_ee_to_vanilla if we're on a non-EE game. If a script is
missing, whine unless silent=1.</p>
<p>If instead input is a list of k=>v pairs, compile k.baf to v.bcs (we don't check variables in this case).</p></p><p><p>
If the script name is a set variable, compile it to the value of that variable, e.g. if script_for_wyrms is set
to dw#wyrm1, compile script_for_wyrms.baf to dw#wyrm1.bcs.
</p>



</div>
<div class="ribbon_rectangle_h2"><h2>Internal functions</h2> </div>
<div class="ribbon_triangle_h2-l"></div>
<div class="ribbon_triangle_h2-r"></div>
<div class="section">
<p>These should not be called from outside the library itself.</p>
<p><strong>script_difficulty_ini()=()</strong> patch<br></p><p>
On the current file (assumed to be a BAF file) swap difficulty GLOBAL checks for INI checks, but 
only if m_dw_did.lua is present.
</p>
<p><strong>script_ee_to_vanilla()=()</strong> patch<br></p><p>
On the current file (assumed to be a BAF file) replace EE-only script commands with more-or-less-adequate oBG2 alternatives.
If ToBEX is installed, replace CheckSpellState with CheckStat; if it isn't, replace it with False().
Do nothing if we're on EE.
</p>





</div>



</div>
</div>
</body>